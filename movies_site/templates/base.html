<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}Movie Search{% endblock %}</title>
		<script src="https://cdn.tailwindcss.com"></script>
		{% block styles %}{% endblock %}
	</head>
	<body class="bg-gray-100 font-sans">
		<!-- Navigation Bar -->
		<header class="bg-gray-800 text-white">
			<div class="container mx-auto flex justify-between items-center p-4">
				<div class="flex items-center space-x-4">
					<a
						href="{{ url_for('views.home') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Home</a
					>

					{% if session.get('user_id') %}
					<!-- Show Reviewer Dashboard link if logged in as a reviewer -->
					{% if session.get('role') == 'reviewer' %}
					<a
						href="{{ url_for('reviewer.reviewer_dashboard') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Reviewer Dashboard</a
					>
					{% endif %}

					<!-- Show Admin Dashboard link if logged in as an admin -->
					{% if session.get('role') == 'admin' %}
					<a
						href="{{ url_for('admin.admin_dashboard') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Admin Dashboard</a
					>
					{% endif %}

					<!-- Show Log Out link -->
					<a
						href="{{ url_for('auth.logout_user') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Log Out</a
					>
					{% else %}
					<!-- Show Login and Sign Up links if not logged in -->
					<a
						href="{{ url_for('auth.login_user') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Login</a
					>
					<a
						href="{{ url_for('auth.signup_user') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Sign Up</a
					>
					{% endif %}
				</div>
				<div>
					<a
						href="{{ url_for('views.about') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>About</a
					>
				</div>
			</div>
		</header>

		{% with messages = get_flashed_messages(with_categories=true) %} {% if
		messages %} {% for category, message in messages %} {% if category ==
		'error' %}
		<div
			class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4"
			role="alert"
		>
			<span class="block sm:inline">{{ message }}</span>
			<button
				type="button"
				class="absolute top-0 bottom-0 right-0 px-4 py-3"
				onclick="this.parentElement.remove()"
			>
				<svg
					class="fill-current h-6 w-6 text-red-500"
					role="button"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 20 20"
				>
					<title>Close</title>
					<path
						d="M14.348 14.849a1 1 0 01-1.415 0L10 11.415l-2.933 2.934a1 1 0 01-1.415-1.415l2.934-2.934-2.934-2.933a1 1 0 011.415-1.415L10 8.585l2.933-2.934a1 1 0 011.415 1.415L11.415 10l2.934 2.933a1 1 0 010 1.415z"
					/>
				</svg>
			</button>
		</div>
		{% else %}
		<div
			class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4"
			role="alert"
		>
			<span class="block sm:inline">{{ message }}</span>
			<button
				type="button"
				class="absolute top-0 bottom-0 right-0 px-4 py-3"
				onclick="this.parentElement.remove()"
			>
				<svg
					class="fill-current h-6 w-6 text-green-500"
					role="button"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 20 20"
				>
					<title>Close</title>
					<path
						d="M14.348 14.849a1 1 0 01-1.415 0L10 11.415l-2.933 2.934a1 1 0 01-1.415-1.415l2.934-2.934-2.934-2.933a1 1 0 011.415-1.415L10 8.585l2.933-2.934a1 1 0 011.415 1.415L11.415 10l2.934 2.933a1 1 0 010 1.415z"
					/>
				</svg>
			</button>
		</div>
		{% endif %} {% endfor %} {% endif %} {% endwith %}

		<!-- Main Content -->
		<div class="container mx-auto mt-8 p-1">
			{% block content %}{% endblock %}
		</div>

		<!-- Page-Specific Scripts -->
		{% block scripts %}{% endblock %}
	</body>
</html>
