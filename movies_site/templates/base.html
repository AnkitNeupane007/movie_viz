<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}Movie Search{% endblock %}</title>
		<script src="https://cdn.tailwindcss.com"></script>
		{% block styles %}{% endblock %}
	</head>
	<body class="bg-gray-100 font-sans">
		<!-- Navigation Bar -->
		<header class="bg-gray-800 text-white">
			<div class="container mx-auto flex justify-between items-center p-4">
				<div class="flex items-center space-x-4">
					<a
						href="{{ url_for('views.home') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Home</a
					>

					{% if session.get('user_id') %}
					<!-- Show Reviewer Dashboard link if logged in as a reviewer -->
					{% if session.get('role') == 'reviewer' %}
					<a
						href="{{ url_for('reviewer.reviewer_dashboard') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Dashboard</a
					>
					{% endif %}

					<!-- Show Admin Dashboard link if logged in as an admin -->
					{% if session.get('role') == 'admin' %}
					<a
						href="{{ url_for('admin.admin_dashboard') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Dashboard</a
					>
					{% endif %}

					
					{% else %}
					<!-- Show Login and Sign Up links if not logged in -->
					<a
						href="{{ url_for('auth.login_user') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Login</a
					>
					<a
						href="{{ url_for('auth.signup_user') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Sign Up</a
					>
					{% endif %}
					<a
						href="{{ url_for('views.about') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>About</a
					>
				</div>
				<div>
					{% if  session.get('user_id') %}
					<!-- Show Log Out link -->
					<a
						href="{{ url_for('auth.logout_user') }}"
						class="text-lg font-semibold hover:text-gray-400"
						>Log Out</a
					>
					{% endif %}
				</div>
			</div>
		</header>

		{% with messages = get_flashed_messages(with_categories=true) %} {% if
		messages %} {% for category, message in messages %} {% if category ==
		'error' %}
		<div
			class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4"
			role="alert"
		>
			<span class="block sm:inline">{{ message }}</span>
			<button
				type="button"
				class="absolute top-0 bottom-0 right-0 px-4 py-3"
				onclick="this.parentElement.remove()"
			>
				<svg
					class="fill-current h-6 w-6 text-red-500"
					role="button"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 20 20"
				>
					<title>Close</title>
					<path
						d="M14.348 14.849a1 1 0 01-1.415 0L10 11.415l-2.933 2.934a1 1 0 01-1.415-1.415l2.934-2.934-2.934-2.933a1 1 0 011.415-1.415L10 8.585l2.933-2.934a1 1 0 011.415 1.415L11.415 10l2.934 2.933a1 1 0 010 1.415z"
					/>
				</svg>
			</button>
		</div>
		{% else %}
		<div
			class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4"
			role="alert"
		>
			<span class="block sm:inline">{{ message }}</span>
			<button
				type="button"
				class="absolute top-0 bottom-0 right-0 px-4 py-3"
				onclick="this.parentElement.remove()"
			>
				<svg
					class="fill-current h-6 w-6 text-green-500"
					role="button"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 20 20"
				>
					<title>Close</title>
					<path
						d="M14.348 14.849a1 1 0 01-1.415 0L10 11.415l-2.933 2.934a1 1 0 01-1.415-1.415l2.934-2.934-2.934-2.933a1 1 0 011.415-1.415L10 8.585l2.933-2.934a1 1 0 011.415 1.415L11.415 10l2.934 2.933a1 1 0 010 1.415z"
					/>
				</svg>
			</button>
		</div>
		{% endif %} {% endfor %} {% endif %} {% endwith %}

		<!-- Main Content -->
		<div class="container mx-auto mt-8 p-1">
			{% block content %}
			<main class="container mx-auto mt-8 p-4">
				<h1 class="text-2xl font-bold text-center mb-4">Search Movies</h1>
				<div class="flex justify-center mb-8">
				  <div class="relative w-full max-w-md">
					<input 
					  type="text" 
					  placeholder="Search for a movie..." 
					  class="w-full border border-gray-300 rounded-lg p-3 pl-10 focus:ring-2 focus:ring-blue-400 focus:outline-none"
					/>
					<svg 
					  xmlns="http://www.w3.org/2000/svg" 
					  class="h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" 
					  fill="none" 
					  viewBox="0 0 24 24" 
					  stroke="currentColor">
					  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012 19.5a7.5 7.5 0 004.35-1.35z" />
					</svg>
					<button 
					  class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400">
					  ⚙️
					</button>
				  </div>
				</div>
			{% endblock %}
		</div>

		<!-- Page-Specific Scripts -->
		{% block scripts %}{% endblock %}
	</body>
</html>
